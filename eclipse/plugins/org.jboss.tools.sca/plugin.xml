<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.graphiti.ui.diagramTypes">
      <diagramType
            description="This is the diagram type for an SCA editor"
            id="org.jboss.tools.sca.diagram"
            name="SCA Diagram Type"
            type="org.jboss.tools.sca.diagram">
      </diagramType>
   </extension>

  <extension
      point="org.eclipse.graphiti.ui.diagramTypeProviders">
    <diagramTypeProvider
      class="org.jboss.tools.sca.diagram.SCADiagramTypeProvider"
      description="This is the SCA diagram type editor"
      id="org.jboss.tools.sca.diagram.SCADiagramTypeProvider"
      name="SCA Editor">
      <diagramType
        id="org.jboss.tools.sca.diagram">
      </diagramType>
    </diagramTypeProvider>
  </extension>
  <extension
        point="org.eclipse.ui.handlers">
     <handler
           class="org.jboss.tools.sca.handlers.CreateDiagramWithAllSCAHandler"
           commandId="org.jboss.tools.sca.commands.createDiagramWithSCAConfig">
     </handler>
  </extension>
  <extension
        point="org.eclipse.ui.commands">
     <command
           id="org.jboss.tools.sca.commands.createDiagramWithSCAConfig"
           name="Create Diagram from SCA config">
     </command>
  </extension>
  <extension
        point="org.eclipse.ui.menus">
     <menuContribution
           locationURI="popup:org.eclipse.ui.navigator.ProjectExplorer#PopupMenu?after=additions">
        <command
              commandId="org.jboss.tools.sca.commands.createDiagramWithSCAConfig">
           id="org.eclipse.graphiti.examples.tutorial.menus.createDiagramWithAllClasses">
           <visibleWhen>
    <iterate>
       <or>
          <adapt
                type="org.eclipse.core.resources.IResource">
             <test
                   property="org.eclipse.core.resources.name"
                   value="switchyard.xml">
             </test>
          </adapt>
          <adapt
                type="org.eclipse.core.resources.IResource">
             <test
                   property="org.eclipse.core.resources.name"
                   value="DOMTreeNode.xml">
             </test>
          </adapt>
       </or>
    </iterate>
           </visibleWhen>
        </command>
     </menuContribution>
  </extension>

</plugin>
